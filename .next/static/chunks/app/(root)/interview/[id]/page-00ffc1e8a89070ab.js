(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{1726:(e,a,n)=>{"use strict";n.d(a,{default:()=>h});var t=n(5155),r=n(6766),s=n(2115),o=n(5695),i=n(3999),l=n(1185);let c=new(n.n(l)())("14e85d13-7952-42e5-95dc-28dee512683c");var d=n(3312),u=n(4477);let m=(0,u.createServerReference)("40ef5728847e801e27dbe3a4b20ec64a268695126c",u.callServer,void 0,u.findSourceMapURL,"createFeedback");var p=function(e){return e.INACTIVE="INACTIVE",e.CONNECTING="CONNECTING",e.ACTIVE="ACTIVE",e.FINISHED="FINISHED",e}(p||{});let h=e=>{let{userName:a,userId:n,interviewId:l,feedbackId:u,type:p,questions:h}=e,f=(0,o.useRouter)(),[v,g]=(0,s.useState)("INACTIVE"),[b,I]=(0,s.useState)([]),[N,w]=(0,s.useState)(!1),[y,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=()=>{g("ACTIVE")},a=()=>{g("FINISHED")},n=e=>{if("transcript"===e.type&&"final"===e.transcriptType){let a={role:e.role,content:e.transcript};I(e=>[...e,a])}},t=()=>{console.log("speech start"),w(!0)},r=()=>{console.log("speech end"),w(!1)},s=e=>{console.log("Error:",e)};return c.on("call-start",e),c.on("call-end",a),c.on("message",n),c.on("speech-start",t),c.on("speech-end",r),c.on("error",s),()=>{c.off("call-start",e),c.off("call-end",a),c.off("message",n),c.off("speech-start",t),c.off("speech-end",r),c.off("error",s)}},[]),(0,s.useEffect)(()=>{b.length>0&&j(b[b.length-1].content);let e=async e=>{console.log("handleGenerateFeedback");let{success:a,feedbackId:t}=await m({interviewId:l,userId:n,transcript:e,feedbackId:u});a&&t?f.push("/interview/".concat(l,"/feedback")):(console.log("Error saving feedback"),f.push("/"))};"FINISHED"===v&&("generate"===p?f.push("/"):e(b))},[b,v,u,l,f,p,n]);let z=async()=>{if(g("CONNECTING"),"generate"===p)await c.start("332b6ead-67a3-4a7e-bbd2-9ba0340d3ad0",{variableValues:{username:a,userid:n}});else{let e="";h&&(e=h.map(e=>"- ".concat(e)).join("\n")),await c.start(d.tH,{variableValues:{questions:e}})}},E=()=>{g("FINISHED"),c.stop()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"call-view",children:[(0,t.jsxs)("div",{className:"card-interviewer",children:[(0,t.jsxs)("div",{className:"avatar",children:[(0,t.jsx)(r.default,{src:"/ai-avatar.png",alt:"profile-image",width:65,height:54,className:"object-cover"}),N&&(0,t.jsx)("span",{className:"animate-speak"})]}),(0,t.jsx)("h3",{children:"AI Interviewer"})]}),(0,t.jsx)("div",{className:"card-border",children:(0,t.jsxs)("div",{className:"card-content",children:[(0,t.jsx)(r.default,{src:"/user-avatar.png",alt:"profile-image",width:539,height:539,className:"rounded-full object-cover size-[120px]"}),(0,t.jsx)("h3",{children:a})]})})]}),b.length>0&&(0,t.jsx)("div",{className:"transcript-border",children:(0,t.jsx)("div",{className:"transcript",children:(0,t.jsx)("p",{className:(0,i.cn)("transition-opacity duration-500 opacity-0","animate-fadeIn opacity-100"),children:y},y)})}),(0,t.jsx)("div",{className:"w-full flex justify-center",children:"ACTIVE"!==v?(0,t.jsxs)("button",{className:"relative btn-call",onClick:()=>z(),children:[(0,t.jsx)("span",{className:(0,i.cn)("absolute animate-ping rounded-full opacity-75","CONNECTING"!==v&&"hidden")}),(0,t.jsx)("span",{className:"relative",children:"INACTIVE"===v||"FINISHED"===v?"Call":". . ."})]}):(0,t.jsx)("button",{className:"btn-disconnect",onClick:()=>E(),children:"End"})})]})}},3312:(e,a,n)=>{"use strict";n.d(a,{tH:()=>r});var t=n(5594);let r={name:"Interviewer",firstMessage:"Hello! Thank you for taking the time to speak with me today. I'm excited to learn more about you and your experience.",transcriber:{provider:"deepgram",model:"nova-2",language:"en"},voice:{provider:"11labs",voiceId:"sarah",stability:.4,similarityBoost:.8,speed:.9,style:.5,useSpeakerBoost:!0},model:{provider:"openai",model:"gpt-4",messages:[{role:"system",content:"You are a professional job interviewer conducting a real-time voice interview with a candidate. Your goal is to assess their qualifications, motivation, and fit for the role.\n\nInterview Guidelines:\nFollow the structured question flow:\n{{questions}}\n\nEngage naturally & react appropriately:\nListen actively to responses and acknowledge them before moving forward.\nAsk brief follow-up questions if a response is vague or requires more detail.\nKeep the conversation flowing smoothly while maintaining control.\nBe professional, yet warm and welcoming:\n\nUse official yet friendly language.\nKeep responses concise and to the point (like in a real voice interview).\nAvoid robotic phrasing—sound natural and conversational.\nAnswer the candidate’s questions professionally:\n\nIf asked about the role, company, or expectations, provide a clear and relevant answer.\nIf unsure, redirect the candidate to HR for more details.\n\nConclude the interview properly:\nThank the candidate for their time.\nInform them that the company will reach out soon with feedback.\nEnd the conversation on a polite and positive note.\n\n\n- Be sure to be professional and polite.\n- Keep all your responses short and simple. Use official language, but be kind and welcoming.\n- This is a voice conversation, so keep your responses short, like in a real conversation. Don't ramble for too long."}]}};t.z.object({totalScore:t.z.number(),categoryScores:t.z.tuple([t.z.object({name:t.z.literal("Communication Skills"),score:t.z.number(),comment:t.z.string()}),t.z.object({name:t.z.literal("Technical Knowledge"),score:t.z.number(),comment:t.z.string()}),t.z.object({name:t.z.literal("Problem Solving"),score:t.z.number(),comment:t.z.string()}),t.z.object({name:t.z.literal("Cultural Fit"),score:t.z.number(),comment:t.z.string()}),t.z.object({name:t.z.literal("Confidence and Clarity"),score:t.z.number(),comment:t.z.string()})]),strengths:t.z.array(t.z.string()),areasForImprovement:t.z.array(t.z.string()),finalAssessment:t.z.string()})},3999:(e,a,n)=>{"use strict";n.d(a,{cn:()=>s}),n(3312);var t=n(2596),r=n(9688);function s(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];return(0,r.QP)((0,t.$)(a))}},7740:(e,a,n)=>{Promise.resolve().then(n.bind(n,1726)),Promise.resolve().then(n.t.bind(n,3063,23))}},e=>{var a=a=>e(e.s=a);e.O(0,[424,63,85,185,441,684,358],()=>a(7740)),_N_E=e.O()}]);